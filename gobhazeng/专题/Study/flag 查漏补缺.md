# 2021-01-16

## String和StringBuffer区别

String 字符串对象 new出来的在堆分配 直接声明分配在字符串常量池（方法区） String拼接一般来说concat是new对象，直接拼接的话，确定性常量会直接在编译器合并，出现变量的直接拼接会被优化为StringBuilder，但StringBuilder是new出来的，如果在for循环中使用+会重复实例化StringBuilder对象，影响性能，阿里巴巴开发手册一般建议在循环期间不使用+拼接

StringBuffer是用于字符串拼接的一种工具类，类似StringBuilder，但通过同步锁实现线程安全，一般不推荐使用（锁消除，在局部作用域一般不会出现线程安全问题）。

## int和Integer的区别

int是基本数据类型 整型，初始化值是0

Integer是int的包装类，需要实例化（存在null），存在对象引用

比较时，自动拆箱装箱 -127~127缓存比较问题

## Array和ArrayList区别

Array确定长度的数组

ArrayList不确定数组长度时使用，可自定义初始化值，也可不指定默认10，达到上限后会进行扩容1.5倍，浅复制，非线程安全

## 值传递 和 引用传递

明确实参（在进入函数前就已经初始化的参数） 形参（进入函数传入的参数，作用域和函数作用域一致）

区分基本数据类型（实际值） 引用数据类型（对象地址 类、数组、接口）

java在方法传递参数时，是将变量复制一份，然后传入方法体去执行

对于基本数据类型多个函数栈区都存的真实值，对形参的操作不会影响原始值

对于引用数据类型，如果同一个对象地址引用，则对形参的操作会影响原始值

唯一的问题 String不是基本数据类型 但String是不可变对象，在函数内修改会重新创建对象，并不会影响原始值

## 4.0-3.6=0.40000001

十进制小数使用二进制标识会出现浮点数除不尽导致的精度问题

一般考虑使用大数类型 如BigDecimal

## Object不重写hashcode 如何计算hashcode

随机数

